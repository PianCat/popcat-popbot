/**
    POPCAT Popbot v3.1 (Direct send pops to API & bypass bot detection)
    https://github.com/jvloo/popcat-popbot/
    
    @version 3.1.3
    @author  Xavier Loo <xavier@senangprint.com>
    
    - Get Started: https://github.com/jvloo/popcat-popbot/blob/main/README.md
    - Troubleshoot Guide: https://github.com/jvloo/popcat-popbot/issues/1
**/
(()=>{"use strict";console.clear();var e,o,t,c,n;
(e=document.createElement("script")).src="https://code.jquery.com/jquery-3.3.1.min.js",
document.getElementsByTagName("head")[0].appendChild(e),
c=setInterval(()=>{"undefined"!=typeof $&&(clearInterval(c),setInterval(()=>{r()},3e4),r())},100)
async function r(){a("country=MY"),document.querySelector("#app").__vue__.accumulator=0,
o=await document.querySelector("#app").__vue__.$recaptcha("pop"),t=t?"&token="+t:"",
$.ajax({url:`https://stats.popcat.click/pop?pop_count=800&captcha_token=${o}${t}`,crossDomain:!0})
.then(function(e){t=e.Token,n=parseInt($(".counter").text().replace(/,/g,"")),
function(e){for(var o=0;o<800;o++)setTimeout(()=>{++e,$(".counter").text(e.toLocaleString("en")),
a("pop_count="+e)},5*o)}(n=isNaN(n)?0:n),
console.log(`%cSuccessfully sent 800 clicks to ${e.Location.Name}. Total: ${(n+800).toLocaleString("en")}`,"color:green"),
console.log("Waiting for next request in 30s..")})
.fail(function(e){switch(e.status){case 503:console.log("%cFailed due to server error. Retrying in 30s..","color:red");break;
case 429:console.log("%cFailed due to request too often. Retrying in 30s..","color:red"),
console.log("%cReminder: Please run only 1 PopCat per device/IP.","color:yellow");break;
default:console.log("%cFailed due to unknown error. Retrying in 30s..","color:red")}})}
function a(e){document.cookie=e+";expires=Sat, 31 Dec 2022 12:00:00 UTC;path=/"}})();