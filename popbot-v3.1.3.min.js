/**
    POPCAT Popbot v3.1 (Direct send pops to API & bypass bot detection)
    https://github.com/jvloo/popcat-popbot/
    
    @version 3.1.3
    @author  Xavier Loo <xavier@senangprint.com>
    
    - Get Started: https://github.com/jvloo/popcat-popbot/blob/main/README.md
    - Troubleshoot Guide: https://github.com/jvloo/popcat-popbot/issues/1
**/
console.clear();
var j,r,t,w,n;(j=document.createElement("script")).src="https://code.jquery.com/jquery-3.3.1.min.js",
document.getElementsByTagName("head")[0].appendChild(j),
document.querySelector("#app").__vue__.$recaptcha("pop").then(e=>{r=e}),
w=setInterval(()=>{"undefined"!=typeof $&&void 0!==r&&(clearInterval(w),setInterval(()=>{send()},3e4),send())},100);
function send(){set("country=MY"),t=t?"&token="+t:"",document.querySelector("#app").__vue__.accumulator=0;
try{$.ajax({url:`https://stats.popcat.click/pop?pop_count=800&captcha_token=${r}${t}`,crossDomain:!0})
.then(function(e){t=e.Token,n=parseInt($(".counter").text().replace(/,/g,"")),pop(n=isNaN(n)?0:n),
console.log(`%cSuccessfully sent 800 clicks to ${e.Location.Name}. Total: ${(n+800).toLocaleString("en")}`,"color:green")
console.log('Waiting for next request in 30s..')}).fail(function(e){switch(e.status){
case 503:console.log("%cFailed due to server error. Retrying in 30s..","color:red");break;
case 429:console.log("%cFailed due to request too often. Retrying in 30s..","color:red");
console.log("%cReminder: Please run only 1 PopCat per device/IP.","color:yellow");break;
default:console.log(`%cFailed due to error ${e.responseText}. Retrying in 30s..`,"color:red")}})
}catch(e){console.log("%cFailed due to server error. Retrying in 30s ..","color:red")}}
function pop(e){for(var t=0;t<800;t++)
setTimeout(()=>{++e,$(".counter").text(e.toLocaleString("en")),set("pop_count="+e)},5*t)}
function set(e){document.cookie=e+";expires=Sat, 31 Dec 2022 12:00:00 UTC;path=/"}